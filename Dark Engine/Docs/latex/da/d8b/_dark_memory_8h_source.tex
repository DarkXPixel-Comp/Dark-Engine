\doxysection{Dark\+Memory.\+h}
\hypertarget{_dark_memory_8h_source}{}\label{_dark_memory_8h_source}\index{Dark Engine/Source/Runtime/Core/Public/HAL/DarkMemory.h@{Dark Engine/Source/Runtime/Core/Public/HAL/DarkMemory.h}}
\mbox{\hyperlink{_dark_memory_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_core_types_8h}{CoreTypes.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_windows_platform_memory_8h}{Windows/WindowsPlatformMemory.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_is_pointer_8h}{Templates/IsPointer.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00010\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{_dark_memory_8h_a99fb83031ce9923c84392b4e92f956b5a7d69a1ccda7665d7a6f494085b91f410}{DEFAULT\_ALIGNMENT}}\ =\ 0,}
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{_dark_memory_8h_a99fb83031ce9923c84392b4e92f956b5a64b989af69eedbbb4b462429ce0ecb1a}{MIN\_ALIGNMENT}}\ =\ 8}
\DoxyCodeLine{00013\ \};}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_memory}{FMemory}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8}{AllocationHints}}}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8a900233ff4139a4d249d9f5c78b590940}{None}}\ =\ -\/1,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8a978133ac6c313676bcbba756ed35c238}{Default}},}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8a58f3e9b63ba6242ab6958376b810ec9f}{Temporary}},}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8a1a9d8b19166b59160ba657696ab90fad}{SmallPool}},}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a19c0c3ed7ccdca52860462acb69602c8aa825de3f99f1c3ae6b263934e2811876}{Max}}}
\DoxyCodeLine{00027\ \ \ \ \ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a153a731cbc9f2dd08fc908289817ae9f}{Memmove}}(\textcolor{keywordtype}{void}*\ Dest,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ Src,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_a780574b745e0f677810b3b1966e13c76}{FPlatformMemory::Memmove}}(Dest,\ Src,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ \mbox{\hyperlink{struct_f_memory_a37e12f1032ba2c84ffa3caf4191dc69b}{Memcmp}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ Buf1,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ Buf2,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00037\ \ \ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_a87e4f64719cbe71c0605ccb601e48d1f}{FPlatformMemory::Memcmp}}(Buf1,\ Buf2,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_aedf1c48c1db4dc9f050e7efed5e8a9c9}{Memset}}(\textcolor{keywordtype}{void}*\ Dest,\ \mbox{\hyperlink{_platform_8h_a40bc01dd090acd02a79b5dc13e08abe6}{uint8}}\ Char,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00042\ \ \ \ \ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_a9dd441da1c388e52f0700b59df6a336a}{FPlatformMemory::Memset}}(Dest,\ Char,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{Memzero}}(\textcolor{keywordtype}{void}*\ Dest,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00047\ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_a341dc15dc436088731a9e337a1c1e3d4}{FPlatformMemory::Memzero}}(Dest,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a6bfb397a8ea2e226f6fe27664c9880ca}{Memcpy}}(\textcolor{keywordtype}{void}*\ Dest,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ Src,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00052\ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_ab46f8cf40276eb3a904f9e7329bc5a0f}{FPlatformMemory::Memcpy}}(Dest,\ Src,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_ad19fe81e8fe897415bdca522abd4a2cc}{Memcpy}}(T\&\ Dest,\ \textcolor{keyword}{const}\ T\&\ Src)}
\DoxyCodeLine{00058\ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_memory_a6bfb397a8ea2e226f6fe27664c9880ca}{Memcpy}}(\&Dest,\ \&Src,\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_f_memory_ac20407ee38986c991732696065b52f50}{MemIsZero}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ Ptr,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00064\ \ \ \ \ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a40bc01dd090acd02a79b5dc13e08abe6}{uint8}}*\ Start\ =\ (\mbox{\hyperlink{_platform_8h_a40bc01dd090acd02a79b5dc13e08abe6}{uint8}}*)Ptr;}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a40bc01dd090acd02a79b5dc13e08abe6}{uint8}}*\ End\ =\ Start\ +\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (Start\ <\ End)}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*Start++\ !=\ 0)}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ \ \ \ \ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_memory_a7c4dd05bfa67a28e5ab70aaafdfec1f0}{Memswap}}(\textcolor{keywordtype}{void}*\ Ptr1,\ \textcolor{keywordtype}{void}*\ Ptr2,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}})}
\DoxyCodeLine{00079\ \ \ \ \ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_generic_platform_memory_a934aa131573522d27a59a21458eebd96}{FPlatformMemory::Memswap}}(Ptr1,\ Ptr2,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00081\ \ \ \ \ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a33c6f3e0dbaae261c483ae90c2f9aea7}{SystemMalloc}}(\mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_d3_d12_utils_8h_a49802c782fb40bd8e79835ef12871ddeaff9abf2b1a689f70a77a18da50c01d9f}{Size}})}
\DoxyCodeLine{00084\ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ malloc(\mbox{\hyperlink{_d3_d12_utils_8h_a49802c782fb40bd8e79835ef12871ddeaff9abf2b1a689f70a77a18da50c01d9f}{Size}});}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ \ \ \ \ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_memory_a457fe87c3d2d2e747d73d3157dc128a2}{SystemFree}}(\textcolor{keywordtype}{void}*\ Ptr)}
\DoxyCodeLine{00089\ \ \ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ free(Ptr);}
\DoxyCodeLine{00091\ \ \ \ \ \}}
\DoxyCodeLine{00092\ \ \ \ \ }
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{_definitions_8h_afea66f9a6812c2354b544f31910fd72f}{CORE\_API}}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a53fdf955abe05c2862e76be5e8b314b4}{Malloc}}(\mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}},\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Alignment\ =\ \mbox{\hyperlink{_dark_memory_8h_a99fb83031ce9923c84392b4e92f956b5a7d69a1ccda7665d7a6f494085b91f410}{DEFAULT\_ALIGNMENT}});}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{_definitions_8h_afea66f9a6812c2354b544f31910fd72f}{CORE\_API}}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_adb9f5f7d85bed269e0dcda7b507cffbd}{Realloc}}(\textcolor{keywordtype}{void}*\ Ptr,\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}},\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Alignment\ =\ \mbox{\hyperlink{_dark_memory_8h_a99fb83031ce9923c84392b4e92f956b5a7d69a1ccda7665d7a6f494085b91f410}{DEFAULT\_ALIGNMENT}});}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{_definitions_8h_afea66f9a6812c2354b544f31910fd72f}{CORE\_API}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_memory_a21e36adb156ba271a56a1a38032f62e5}{Free}}(\textcolor{keywordtype}{void}*\ Ptr);}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{_definitions_8h_afea66f9a6812c2354b544f31910fd72f}{CORE\_API}}\ \mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{struct_f_memory_aa36d582779fbd658277d6787e7286fb6}{GetAllocSize}}(\textcolor{keywordtype}{void}*\ Ptr);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{struct_f_memory_a09e208867b69e5bffc98108594de24ca}{MallocZero}}(\mbox{\hyperlink{_platform_8h_a2c46f1fb01e11216aa2c983307deafb4}{SIZE\_T}}\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}},\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Alignment\ =\ \mbox{\hyperlink{_dark_memory_8h_a99fb83031ce9923c84392b4e92f956b5a7d69a1ccda7665d7a6f494085b91f410}{DEFAULT\_ALIGNMENT}})}
\DoxyCodeLine{00100\ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ Ptr\ =\ \mbox{\hyperlink{struct_f_memory_a53fdf955abe05c2862e76be5e8b314b4}{Malloc}}(\mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}},\ Alignment);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{Memzero}}(Ptr,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898a928f33270be19855038d0245a0fa06a1}{Count}});}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ptr;}
\DoxyCodeLine{00104\ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \};}

\end{DoxyCode}
