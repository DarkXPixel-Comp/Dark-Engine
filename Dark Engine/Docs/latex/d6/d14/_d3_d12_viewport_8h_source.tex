\doxysection{D3\+D12\+Viewport.\+h}
\hypertarget{_d3_d12_viewport_8h_source}{}\label{_d3_d12_viewport_8h_source}\index{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12Viewport.h@{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12Viewport.h}}
\mbox{\hyperlink{_d3_d12_viewport_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_core_minimal_8h}{CoreMinimal.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_r_h_i_common_8h}{D3D12RHICommon.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_resources_8h}{D3D12Resources.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_r_h_i_resources_8h}{RHIResources.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_r_h_i_2private_2_d3_d12_texture_8h}{D3D12Texture.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_util_8h}{D3D12Util.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{comment}{//DXGI\_FORMAT\ GetDXGIFormat(EPixelFormat\ PixelFormat);}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_viewport}{FD3D12Viewport}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_r_h_i_viewport}{FRHIViewport}}\ ,\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_adapter_child}{FD3D12AdapterChild}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_viewport_a16f5b24bd72443cfa45241902b81c5d5}{FD3D12Viewport}}(\mbox{\hyperlink{class_f_d3_d12_adapter}{FD3D12Adapter}}*\ InParent,\ HWND\ InWindowHandle,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InSizeX,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InSizeY,}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ bInIsFullscreen,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898}{EPixelFormat}}\ InPixelFormat);}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_viewport_a6c99e760324a43284f30585a0f27f730}{Init}}();}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_viewport_a1ff5539ee368828caa1c3f6b7e3f9ca5}{Resize}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InSizeX,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InSizeY,\ \textcolor{keywordtype}{bool}\ bInIsFullscreen,\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898}{EPixelFormat}}\ InPixelFormat);}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{_r_h_i_defines_8h_a790a925a3358fc56173b2ffb0f607c5fadd058df87f5c88e3285a28ad7406a3c6}{Present}}(\mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ bVsync);}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_viewport_afe2a33f66da0a8ab90cb8404cee80095}{GetCountBackBuffers}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ NumBackBuffers;\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_viewport_a8f594d696d29adf199c198afb8ad814b}{WaitForFrameEventCompletion}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_viewport_a1ff5539ee368828caa1c3f6b7e3f9ca5}{Resize}}(\mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ Width,\ \mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ Height,\ \textcolor{keywordtype}{bool}\ bWasMinimized)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ FORCEINLINE\ \textcolor{keyword}{static}\ DXGI\_FORMAT\ \mbox{\hyperlink{class_f_d3_d12_viewport_aa6702f82289a536a9f67f30d0279bff6}{GetRenderTargetFormat}}(\mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898}{EPixelFormat}}\ PixelFormat)}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_d3_d12_util_8h_ac028dbc41e6752d17b317a83da786425}{GetDXGIFormat}}(PixelFormat);}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_texture}{FD3D12Texture}}*\ \mbox{\hyperlink{class_f_d3_d12_viewport_aedc8c11d58df4ebece6899b1549ef46c}{GetCurrentBackBuffer}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ BackBuffers[CurrentBackBufferIndex].Get();\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{class_f_d3_d12_viewport_a6c18be1c6ac53b8a37baff9fa5fca5c1}{GetNativeSwapChain}}()\textcolor{keyword}{\ const\ override\ }}
\DoxyCodeLine{00039\ \textcolor{keyword}{\ \ \ \ }\{\ \textcolor{keywordflow}{return}\ SwapChain1.Get();\ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ CalculateSwapchainNum(\mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ SwapchainNum);}
\DoxyCodeLine{00043\ \ \ \ \ DXGI\_MODE\_DESC\ SetupDXGI\_MODE\_DESC()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_texture}{FD3D12Texture}}*\ GetSwapChainSurface(\ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898}{EPixelFormat}}\ PixelFormat,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SizeX,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SizeY,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ IDXGISwapChain*\ SwapChain,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ BackBufferIndex,\ TRefCountPtr<ID3D12Resource>\ BackBufferResourceOverride);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00051\ \ \ \ \ HWND\ WindowHandle;}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SizeX;}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SizeY;}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ bIsFullscreen;}
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{_pixel_format_8h_afb559e26bc610db43ba605230a142898}{EPixelFormat}}\ PixelFormat;}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{bool}\ bIsValid;}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ CurrentBackBufferIndex;}
\DoxyCodeLine{00058\ \ \ \ \ }
\DoxyCodeLine{00059\ \ \ \ \ TArray<TRefCountPtr<FD3D12Texture>>\ BackBuffers;}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumBackBuffers;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ TRefCountPtr<IDXGISwapChain1>\ SwapChain1;}
\DoxyCodeLine{00063\ \ \ \ \ TRefCountPtr<IDXGISwapChain2>\ SwapChain2;}
\DoxyCodeLine{00064\ \ \ \ \ TRefCountPtr<IDXGISwapChain3>\ SwapChain3;}
\DoxyCodeLine{00065\ \ \ \ \ TRefCountPtr<IDXGISwapChain4>\ SwapChain4;}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \};}

\end{DoxyCode}
