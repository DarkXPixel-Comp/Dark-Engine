\doxysection{Common\+Render\+Resources.\+h}
\hypertarget{_common_render_resources_8h_source}{}\label{_common_render_resources_8h_source}\index{Dark Engine/Source/Runtime/Renderer/public/CommonRenderResources.h@{Dark Engine/Source/Runtime/Renderer/public/CommonRenderResources.h}}
\mbox{\hyperlink{_common_render_resources_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_math_fwd_8h}{Math/MathFwd.h}}"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_r_h_i_resources_8h}{RHIResources.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_dynamic_r_h_i_8h}{DynamicRHI.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}}}
\DoxyCodeLine{00008\ \{}
\DoxyCodeLine{00009\ \ \ \ \ \mbox{\hyperlink{struct_d_e_1_1_math_1_1_t_vector4}{FVector4f}}\ \mbox{\hyperlink{struct_f_filter_vertex_adb9912b6930178be53bad30c3b04aaac}{Position}};}
\DoxyCodeLine{00010\ \ \ \ \ \mbox{\hyperlink{struct_d_e_1_1_math_1_1_t_vector2}{FVector2f}}\ \mbox{\hyperlink{struct_f_filter_vertex_a23e39a5a8a42841fc5b3b7a0d7beaa07}{UV}};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{struct_f_filter_vertex_af4245d39b1a03124085b9d6574e1d60f}{FFilterVertex}}()}
\DoxyCodeLine{00013\ \ \ \ \ \{\}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{struct_f_filter_vertex_a1fef945e3b81766c32ea2af1bc165ed3}{FFilterVertex}}(\mbox{\hyperlink{struct_d_e_1_1_math_1_1_t_vector4}{FVector4f}}\ InPositon,\ \mbox{\hyperlink{struct_d_e_1_1_math_1_1_t_vector2}{FVector2f}}\ InUV)\ :\ }
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_filter_vertex_adb9912b6930178be53bad30c3b04aaac}{Position}}(InPositon),\ \mbox{\hyperlink{struct_f_filter_vertex_a23e39a5a8a42841fc5b3b7a0d7beaa07}{UV}}(InUV)}
\DoxyCodeLine{00017\ \ \ \ \ \{\}}
\DoxyCodeLine{00018\ \};}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_filter_vertex_declaration}{FFilterVertexDeclaration}}}
\DoxyCodeLine{00022\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \ \ TRefCountPtr<FRHIVertexDeclaration>\ \mbox{\hyperlink{class_f_filter_vertex_declaration_a18c82e3ba6917f16d54883fdaf9b3221}{VertexDeclaration}};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_filter_vertex_declaration_a343e15df62fb71b3af6194a8f78c93d7}{Init}}()}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_t_array}{FVertexDeclarationElementList}}\ Elements;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a55934b7aafc849240fa69ea0339c0ab7}{uint16}}\ Stride\ =\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}});}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ Elements.\mbox{\hyperlink{class_t_array_a27e18ffaa6dfeadac0e08e11c9b512a7}{Add}}(\mbox{\hyperlink{struct_f_vertex_element}{FVertexElement}}(\mbox{\hyperlink{_r_h_i_defines_8h_a5ba013d0ba7c7b1e63e78d1b19238b1faacda3767ab1528fa359718576d182938}{VET\_Float4}},\ 0,\ 0,\ 0,\ Stride));}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ Elements.Add(\mbox{\hyperlink{struct_f_vertex_element}{FVertexElement}}(\mbox{\hyperlink{_r_h_i_defines_8h_a5ba013d0ba7c7b1e63e78d1b19238b1fafeeb7b8235277b46cc2fef914e72c37d}{VET\_Float2}},\ 1,\ 0,\ 0,\ Stride));}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_filter_vertex_declaration_a18c82e3ba6917f16d54883fdaf9b3221}{VertexDeclaration}}\ =\ \mbox{\hyperlink{_dynamic_r_h_i_8h_a7517b77b859e55ad7c2bd4b4d932faf3}{RHICreateVertexDeclaration}}(Elements);}
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer}{FScreenRectangleVertexBuffer}}}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ \ \ \ \ TRefCountPtr<FRHIBuffer>\ \mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_a34290d187459a0ae7e0dbe088b9c5192}{VertexBuffer}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_af801cb25e7746578881518dc3270f6a4}{Init}}()}
\DoxyCodeLine{00042\ \ \ \ \ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_a34290d187459a0ae7e0dbe088b9c5192}{VertexBuffer}})}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ TArray<FFilterVertex>\ Vertices(4);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ Vertices[0].Position\ =\ \mbox{\hyperlink{_math_fwd_8h_ae3748a9ac5b66c35924636537c4a8107}{FVector4f}}(-\/1,\ -\/1,\ 0,\ 1);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ Vertices[0].UV\ =\ \mbox{\hyperlink{_math_fwd_8h_a510e17bc5de77a23a40752fe0ebfdd72}{FVector2f}}(0,\ 1);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ Vertices[1].Position\ =\ \mbox{\hyperlink{_math_fwd_8h_ae3748a9ac5b66c35924636537c4a8107}{FVector4f}}(-\/1,\ 1,\ 0,\ 1);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ Vertices[1].UV\ =\ \mbox{\hyperlink{_math_fwd_8h_a510e17bc5de77a23a40752fe0ebfdd72}{FVector2f}}(0,\ 0);}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ Vertices[2].Position\ =\ \mbox{\hyperlink{_math_fwd_8h_ae3748a9ac5b66c35924636537c4a8107}{FVector4f}}(1,\ 1,\ 0,\ 1);}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ Vertices[2].UV\ =\ \mbox{\hyperlink{_math_fwd_8h_a510e17bc5de77a23a40752fe0ebfdd72}{FVector2f}}(1,\ 0);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ Vertices[3].Position\ =\ \mbox{\hyperlink{_math_fwd_8h_ae3748a9ac5b66c35924636537c4a8107}{FVector4f}}(1,\ -\/1,\ 0,\ 1);}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ Vertices[3].UV\ =\ \mbox{\hyperlink{_math_fwd_8h_a510e17bc5de77a23a40752fe0ebfdd72}{FVector2f}}(1,\ 1);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{/*\ \ Vertices[4].Position\ =\ FVector4f(-\/1,\ -\/1,\ 0,\ 1);}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ \ \ \ \ \ Vertices[4].UV\ =\ FVector2f(0,\ 1);}}
\DoxyCodeLine{00063\ \textcolor{comment}{}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ \ \ \ \ Vertices[5].Position\ =\ FVector4f(-\/1,\ -\/1,\ 0,\ 1);}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ \ \ \ \ Vertices[5].UV\ =\ FVector2f(0,\ 1);*/}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_a34290d187459a0ae7e0dbe088b9c5192}{VertexBuffer}}\ =\ \mbox{\hyperlink{_dynamic_r_h_i_8h_a9f813715cdf25d3557fa66873b435201}{RHICreateBuffer}}(\mbox{\hyperlink{struct_f_r_h_i_buffer_desc}{FRHIBufferDesc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}})\ *\ Vertices.Num(),}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}})),\ \mbox{\hyperlink{_platform_8h_a2978f60d40d64f3605b5a99f66f292a9}{TEXT}}(\textcolor{stringliteral}{"{}FScreenRectangleVertexBuffer"{}}),\ \mbox{\hyperlink{_r_h_i_defines_8h_a790a925a3358fc56173b2ffb0f607c5f}{ERHIAccess}}(\mbox{\hyperlink{_r_h_i_defines_8h_a790a925a3358fc56173b2ffb0f607c5fa9b4ca42c29ad44078049099371cf37ae}{ERHIAccess::VertexOrIndexBuffer}}));}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ Data\ =\ \mbox{\hyperlink{_dynamic_r_h_i_8h_a4e523b52ef7c31b49d6321fae61270ba}{RHILockBuffer}}(\mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_a34290d187459a0ae7e0dbe088b9c5192}{VertexBuffer}}.Get(),\ 0,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}})\ *\ Vertices.Num(),\ \mbox{\hyperlink{_r_h_i_defines_8h_a74b58e6e8443baea529ab6f701abadb7a29070f058d91713586e592d3c49b9523}{RLM\_WriteOnly}});}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a6bfb397a8ea2e226f6fe27664c9880ca}{FMemory::Memcpy}}(Data,\ Vertices.GetData(),\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_filter_vertex}{FFilterVertex}})\ *\ Vertices.Num());}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_dynamic_r_h_i_8h_a884dd5454688e9402c4e13f4e671370b}{RHIUnlockBuffer}}(\mbox{\hyperlink{class_f_screen_rectangle_vertex_buffer_a34290d187459a0ae7e0dbe088b9c5192}{VertexBuffer}}.Get());}
\DoxyCodeLine{00075\ \ \ \ \ \}}
\DoxyCodeLine{00076\ \};}

\end{DoxyCode}
