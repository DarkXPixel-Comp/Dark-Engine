\doxysection{D3\+D12\+Descriptors.\+h}
\hypertarget{_d3_d12_descriptors_8h_source}{}\label{_d3_d12_descriptors_8h_source}\index{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12Descriptors.h@{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12Descriptors.h}}
\mbox{\hyperlink{_d3_d12_descriptors_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_r_h_i_8h}{D3D12RHI.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_r_h_i_common_8h}{D3D12RHICommon.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_d3_d12_8h}{d3d12.h}}>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_r_h_i_defines_8h}{RHIDefines.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ref_counting_8h}{Templates/RefCounting.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ FORCEINLINE\ D3D12\_DESCRIPTOR\_HEAP\_TYPE\ \mbox{\hyperlink{_d3_d12_descriptors_8h_af1452944dcad7eb0c6dbfe1de5ef3ea8}{GetD3D12DescriptorHeapType}}(\mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ HeapType)}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordflow}{switch}\ (HeapType)}
\DoxyCodeLine{00017\ \ \ \ \ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea012a2f66a0b392542ffb7370b87426dc}{ERHIDescriptorHeapType::Standart}}:}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D3D12\_DESCRIPTOR\_HEAP\_TYPE\_CBV\_SRV\_UAV;}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea5bca2f066df1fe641b2b779db2a63c0a}{ERHIDescriptorHeapType::Sampler}}:}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D3D12\_DESCRIPTOR\_HEAP\_TYPE\_SAMPLER;}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea9b0bffda4bcb312168c0d6537cb04b4d}{ERHIDescriptorHeapType::RenderTarget}}:}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D3D12\_DESCRIPTOR\_HEAP\_TYPE\_RTV;}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea2fa8076285272883c91e14402975a441}{ERHIDescriptorHeapType::DepthStencil}}:}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D3D12\_DESCRIPTOR\_HEAP\_TYPE\_DSV;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D3D12\_DESCRIPTOR\_HEAP\_TYPE();}
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ FORCEINLINE\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{_d3_d12_descriptors_8h_af9ed2a6f5ce7374baeb59eeac4e0990c}{GetCpuDescriptorHeapSize}}(\mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ HeapType)}
\DoxyCodeLine{00033\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{switch}\ (HeapType)}
\DoxyCodeLine{00035\ \ \ \ \ \{}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea012a2f66a0b392542ffb7370b87426dc}{ERHIDescriptorHeapType::Standart}}:}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 2048;}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea5bca2f066df1fe641b2b779db2a63c0a}{ERHIDescriptorHeapType::Sampler}}:}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 128;}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea9b0bffda4bcb312168c0d6537cb04b4d}{ERHIDescriptorHeapType::RenderTarget}}:}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 256;}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4ea2fa8076285272883c91e14402975a441}{ERHIDescriptorHeapType::DepthStencil}}:}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 256;}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor}{FD3D12CpuDescriptor}}\ :\ \textcolor{keyword}{public}\ D3D12\_CPU\_DESCRIPTOR\_HANDLE}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{operator}\ bool()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ptr\ !=\ 0;\ \}}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor_ae6312d0f81cc0052153eb933cae1b5d7}{FD3D12CpuDescriptor}}()\ \{\ ptr\ =\ 0;\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor_a3ffb807649adefb322efd1c3e4157cfb}{Increment}}()\ \{\ ++Version;\ \}}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor_aceb334499e0f8b3a1d5b219f4c255005}{GetVersion}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Version;\ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager}{FD3D12CpuDescriptorManager}};}
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ HeapIndex\ =\ 0;}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Version;}
\DoxyCodeLine{00064\ \};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_cpu_free_range}{FD3D12CpuFreeRange}}}
\DoxyCodeLine{00069\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{_platform_8h_afddf25cca147311c233b23a9d3329bb4}{uint64}}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range_ac4ae70ba4acb64be195ad6f6b0f9bd6a}{Start}};}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{_platform_8h_afddf25cca147311c233b23a9d3329bb4}{uint64}}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range_a88d8027b2267fb2cf7da53eff8f0565e}{End}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range_a54fe1adbfe6766fb611683989e297efe}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range}{FD3D12CpuFreeRange}}\&\ Other)}
\DoxyCodeLine{00074\ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range_ac4ae70ba4acb64be195ad6f6b0f9bd6a}{Start}}\ ==\ Other.Start\ \&\&\ \mbox{\hyperlink{struct_f_d3_d12_cpu_free_range_a88d8027b2267fb2cf7da53eff8f0565e}{End}}\ ==\ Other.End;}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ \};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_cpu_entry}{FD3D12CpuEntry}}}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_cpu_entry_a3547ccf86b1713bc9f832d66a4777bc3}{FD3D12CpuEntry}}(\mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ InHeap,\ \textcolor{keyword}{const}\ D3D12\_CPU\_DESCRIPTOR\_HANDLE\&\ InHeapBase,\ \mbox{\hyperlink{_platform_8h_afddf25cca147311c233b23a9d3329bb4}{uint64}}\ InSize)\ :}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_cpu_entry_aa95fa560a5af048d151cf143a087d1a6}{Heap}}(InHeap)}
\DoxyCodeLine{00083\ \ \ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_cpu_entry_a10b6074d35e55fab0c4f2483a7f9d042}{FreeList}}.\mbox{\hyperlink{class_t_array_a27e18ffaa6dfeadac0e08e11c9b512a7}{Add}}(\{\ InHeapBase.ptr,\ InHeapBase.ptr\ +\ InSize\ \});}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ TSharedPtr<FD3D12DescriptorHeap>\ \mbox{\hyperlink{struct_f_d3_d12_cpu_entry_aa95fa560a5af048d151cf143a087d1a6}{Heap}};}
\DoxyCodeLine{00088\ \ \ \ \ TArray<FD3D12CpuFreeRange>\ \mbox{\hyperlink{struct_f_d3_d12_cpu_entry_a10b6074d35e55fab0c4f2483a7f9d042}{FreeList}};}
\DoxyCodeLine{00089\ \};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_ref_counted_object}{FRefCountedObject}}}
\DoxyCodeLine{00093\ \{}
\DoxyCodeLine{00094\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_a08bfb8d3931e11ae791828cddf014d39}{FD3D12DescriptorHeap}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ InDevice,\ ID3D12DescriptorHeap*\ InHeap,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InNumDescriptors,}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ InType,\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ InFlags);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_ab924970a17c48a1c502d44e9253470e7}{\string~FD3D12DescriptorHeap}}()}
\DoxyCodeLine{00099\ \ \ \ \ \{}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ ID3D12DescriptorHeap*\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_a410844880ec9f9ec2c7060325e7eb203}{GetHeap}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Heap.Get();\ \}}
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_a76073c2708274798bc709e07ba459970}{GetType}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Type;\ \}}
\DoxyCodeLine{00105\ \ \ \ \ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_ae2d68d14f086e84150cfb725f40c0861}{GetFlags}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Flags;\ \}}
\DoxyCodeLine{00106\ \ \ \ \ D3D12\_CPU\_DESCRIPTOR\_HANDLE\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_a6829b20e87f0c463803198923bcff8a7}{GetCPUSlotHandle}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Slot)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ CD3DX12\_CPU\_DESCRIPTOR\_HANDLE(CpuBase,\ Slot,\ DescriptorSize);\ \}}
\DoxyCodeLine{00107\ \ \ \ \ D3D12\_GPU\_DESCRIPTOR\_HANDLE\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_a8fe489e99d005ed64553faedae07df65}{GetGPUSlotHandle}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Slot)\textcolor{keyword}{\ const\ }}
\DoxyCodeLine{00108\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CD3DX12\_GPU\_DESCRIPTOR\_HANDLE(GpuBase,\ Slot,\ DescriptorSize);}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00112\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00113\ \ \ \ \ TRefCountPtr<ID3D12DescriptorHeap>\ Heap;}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{const}\ CD3DX12\_CPU\_DESCRIPTOR\_HANDLE\ CpuBase;}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{const}\ CD3DX12\_GPU\_DESCRIPTOR\_HANDLE\ GpuBase;}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumDescriptors;}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ DescriptorSize;}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ Type;\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{const}\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ Flags;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_descriptor_manager}{FD3D12DescriptorManager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}}}
\DoxyCodeLine{00127\ \{}
\DoxyCodeLine{00128\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_manager_abac962e168abe594f4bed412f0f1eaab}{FD3D12DescriptorManager}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ Device,\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ InHeap);}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_manager_a03e6db1cd059f02f0197b291de9f1ef2}{\string~FD3D12DescriptorManager}}()\ \{\}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ \mbox{\hyperlink{class_f_d3_d12_descriptor_manager_a57adea95dad7aaa305eefd707f325322}{GetHeap}}()\ \{\ \textcolor{keywordflow}{return}\ Heap.get();\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_manager_a959640eec20d24f59963299b0664fcbe}{HandlesAllocation}}(\mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ InType,\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ InFlags)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00135\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Heap-\/>GetType()\ ==\ InType\ \&\&\ Heap-\/>GetFlags()\ ==\ InFlags;}
\DoxyCodeLine{00137\ \ \ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00140\ \ \ \ \ TSharedPtr<FD3D12DescriptorHeap>\ Heap;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager}{FD3D12DescriptorHeapManager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}}}
\DoxyCodeLine{00148\ \{}
\DoxyCodeLine{00149\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00150\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_a0bac3d53783a087945608d2042c3b5d3}{FD3D12DescriptorHeapManager}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ InDevice)\ :}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}}(InDevice)}
\DoxyCodeLine{00152\ \ \ \ \ \{\}}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_ad85f7bdf4845bab9b4f9697087906f0f}{\string~FD3D12DescriptorHeapManager}}()\ \{\}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_a850401dee2c2d084d22ff5129b8ae86b}{Init}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InNumGlobalResourceDescriptors,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InNumGlobalSamplerDescriptors);}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_a2a8ce8158787abb3fc21bd161d211a89}{Destroy}}()\ \{\}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_a1e9ec7c5c094eb0d588ebac97ac352e0}{AllocateIndependentHeap}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{_platform_8h_a74140f1ff3f7a51b1ac752f90283f3d6}{TCHAR}}*\ InDebugName,\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ InHeapType,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InNumDescriptors,\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ InHeapFlags);}
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_aa078618a57a96b7d7349056f48c60c45}{AllocateHeap}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{_platform_8h_a74140f1ff3f7a51b1ac752f90283f3d6}{TCHAR}}*\ InDebugName,\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ InHeapType,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ InNumDescriptors,\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ InHeapFlags);}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_af77f357365d85f907ab416f8b2550365}{DeferredFreeHeap}}(\mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ InHeap);}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap_manager_aca6acd97724dc0db764cc8f720357ea6}{ImmediateFreeHeap}}(\mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ InHeap);}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{comment}{//inline\ FD3D12DescriptorHeap*\ GetGlobalHeap()\ const\ \{\ return\ GlobalHeap;\ \}}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00166\ \ \ \ \ TArray<FD3D12DescriptorManager>\ GlobalHeaps;}
\DoxyCodeLine{00167\ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager}{FD3D12CpuDescriptorManager}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}}}
\DoxyCodeLine{00173\ \{}
\DoxyCodeLine{00174\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager_a7460b30cba91cffa5f93dca1f0bd1fb0}{FD3D12CpuDescriptorManager}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ InDevice,\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ InHeapType);}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager_a151a0d7d4ca1fb2d39b3af522098e62e}{\string~FD3D12CpuDescriptorManager}}()\ \{\}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor}{FD3D12CpuDescriptor}}\ \mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager_a70422a7f7ba171a555859b4c085a200b}{AllocateHeapSlot}}();}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_cpu_descriptor_manager_a55725d6eefccffb229cb3125349ccd13}{FreeHeapSlot}}(\mbox{\hyperlink{struct_f_d3_d12_cpu_descriptor}{FD3D12CpuDescriptor}}\&\ Descriptor);}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keywordtype}{void}\ AllocateHeap();}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ HeapType;}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumDescriptorsPerHeap;}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ DescriptorSize;}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ TArray<FD3D12CpuEntry>\ Heaps;}
\DoxyCodeLine{00189\ \ \ \ \ TArray<uint32>\ FreeHeapIndex;}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ \mbox{\hyperlink{_d3_d12_descriptors_8h_afb4f8d88e1e4061837e321c23a7d5e8b}{CreateDescriptorHeap}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ Device,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_platform_8h_a74140f1ff3f7a51b1ac752f90283f3d6}{TCHAR}}*\ DebugName,\ \mbox{\hyperlink{_r_h_i_defines_8h_a9457a748b9d30acc00348bdc63f5de4e}{ERHIDescriptorHeapType}}\ HeapType,}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumDescriptors,\ D3D12\_DESCRIPTOR\_HEAP\_FLAGS\ Flags);}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_d3_d12_descriptors_8h_a0d45a2727457803dbb7c0d5a76c178c2}{CopyDescriptors}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ Device,\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ TargetHeap,}
\DoxyCodeLine{00203\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ SourceHeap,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumDescriptors);}
\DoxyCodeLine{00204\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_d3_d12_descriptors_8h_a458b509604fdad3f949e0bcd9c6e19a6}{CopyDescriptor}}(\mbox{\hyperlink{class_f_d3_d12_device}{FD3D12Device}}*\ Device,\ \mbox{\hyperlink{class_f_d3_d12_descriptor_heap}{FD3D12DescriptorHeap}}*\ TargetHeap,}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{struct_f_r_h_i_descriptor_handle}{FRHIDescriptorHandle}}\ Handle,\ D3D12\_CPU\_DESCRIPTOR\_HANDLE\ SourceCpuHandle);}

\end{DoxyCode}
