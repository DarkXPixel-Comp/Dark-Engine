\doxysection{D3\+D12\+State\+Cache.\+h}
\hypertarget{_d3_d12_state_cache_8h_source}{}\label{_d3_d12_state_cache_8h_source}\index{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12StateCache.h@{Dark Engine/Source/Runtime/D3D12RHI/private/D3D12StateCache.h}}
\mbox{\hyperlink{_d3_d12_state_cache_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_r_h_i_common_8h}{D3D12RHICommon.h}}"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_d3_d12_constant_buffer_8h}{D3D12ConstantBuffer.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_r_h_i_defines_8h}{RHIDefines.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\#include\ "{}D3D12CommandContext.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_command_context}{FD3D12CommandContext}};}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ResourceSlotMask>}
\DoxyCodeLine{00010\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_resource_cache}{FD3D12ResourceCache}}}
\DoxyCodeLine{00011\ \{}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keyword}{static}\ FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache_a2bc5093c72a9bd5fc9609c899bb90393}{CleanSlot}}(ResourceSlotMask\&\ SlotMask,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SlotIndex)}
\DoxyCodeLine{00013\ \ \ \ \ \{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ SlotMask\ \&=\ \string~((ResourceSlotMask)1\ <<\ SlotIndex);}
\DoxyCodeLine{00015\ \ \ \ \ \}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{static}\ FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache_a18f01bcedd3101709e0beeabe582093d}{CleanSlots}}(ResourceSlotMask\&\ SlotMask,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumSlots)}
\DoxyCodeLine{00018\ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ SlotMask\ \&=\ \string~(((ResourceSlotMask)1\ <<\ NumSlots)\ -\/\ 1);}
\DoxyCodeLine{00020\ \ \ \ \ \}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{static}\ FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache_ac1be96f86840b136496d480c93e4384d}{DirtySlot}}(ResourceSlotMask\&\ SlotMask,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SlotIndex)}
\DoxyCodeLine{00023\ \ \ \ \ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ SlotMask\ |=\ ((ResourceSlotMask)1\ <<\ SlotIndex);}
\DoxyCodeLine{00025\ \ \ \ \ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{static}\ FORCEINLINE\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache_a93f3c817b58d63628c1dfa367f3e272f}{IsSlotDirty}}(\textcolor{keyword}{const}\ ResourceSlotMask\&\ SlotMask,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SlotIndex)}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (SlotMask\ \&\ ((ResourceSlotMask)1\ <<\ SlotIndex))\ !=\ 0;}
\DoxyCodeLine{00030\ \ \ \ \ \}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ ResourceSlotMask\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache_a25bf2f01dc0a63b29e0e47b832ecdc00}{DirtySlotMask}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}]\ =\ \{\};}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache}{FD3D12VertexBufferCache}}}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a02896d16899a5fdc6af900e04fbf0916}{FD3D12VertexBufferCache}}()}
\DoxyCodeLine{00040\ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_afb364d294075eaef39619c0e8039e691}{Clear}}();}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_afb364d294075eaef39619c0e8039e691}{Clear}}()}
\DoxyCodeLine{00045\ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{FMemory::Memzero}}(\mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a5a99cafd0db1feca71953ba755f8233b}{CurrentVertexBufferResources}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a5a99cafd0db1feca71953ba755f8233b}{CurrentVertexBufferResources}}));}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{FMemory::Memzero}}(\mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_ac5c1fe8c1c41c8263f331b52feacf07b}{CurrentVertexBufferViews}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_ac5c1fe8c1c41c8263f331b52feacf07b}{CurrentVertexBufferViews}}));}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a76420cc7b84a7061ca6b33cb9f46f283}{NumViews}}\ =\ 0;}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ D3D12\_VERTEX\_BUFFER\_VIEW\ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_ac5c1fe8c1c41c8263f331b52feacf07b}{CurrentVertexBufferViews}}[32];}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_resource_location}{FD3D12ResourceLocation}}*\ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a5a99cafd0db1feca71953ba755f8233b}{CurrentVertexBufferResources}}[32];}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a84083085985fb180ad38b9c32e3937da}{int32}}\ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache_a76420cc7b84a7061ca6b33cb9f46f283}{NumViews}}\ =\ 0;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache}{FD3D12IndexBufferCache}}}
\DoxyCodeLine{00060\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a732b60feddf5f3ab0f6bf534b0793e4b}{FD3D12IndexBufferCache}}()}
\DoxyCodeLine{00062\ \ \ \ \ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a30ccfe18e787484b6b0d1a69dc1d256e}{Clear}}();}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ FORCEINLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a30ccfe18e787484b6b0d1a69dc1d256e}{Clear}}()}
\DoxyCodeLine{00067\ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{FMemory::Memzero}}(\&\mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a4c412d8f712e45dad6d4a99eb4f04a4e}{CurrentIndexBufferLocation}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a4c412d8f712e45dad6d4a99eb4f04a4e}{CurrentIndexBufferLocation}}));}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{FMemory::Memzero}}(\&\mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a189c96887c2ed76c7e3f990635af3f13}{CurrentIndexBufferView}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a189c96887c2ed76c7e3f990635af3f13}{CurrentIndexBufferView}}));}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ D3D12\_INDEX\_BUFFER\_VIEW\ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a189c96887c2ed76c7e3f990635af3f13}{CurrentIndexBufferView}};}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_resource_location}{FD3D12ResourceLocation}}*\ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache_a4c412d8f712e45dad6d4a99eb4f04a4e}{CurrentIndexBufferLocation}};}
\DoxyCodeLine{00074\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache}{FD3D12ConstantBufferCache}}\ :\ \mbox{\hyperlink{struct_f_d3_d12_resource_cache}{FD3D12ResourceCache}}<uint16>}
\DoxyCodeLine{00078\ \{}
\DoxyCodeLine{00079\ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_acdc4b3ac6b464c3f80c4b40e38f31cc8}{FD3D12ConstantBufferCache}}()}
\DoxyCodeLine{00080\ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_a83fb486bf1a4fe8be7e384a174aebaef}{Clear}}();}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_a83fb486bf1a4fe8be7e384a174aebaef}{Clear}}()}
\DoxyCodeLine{00085\ \ \ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_memory_a0c994a83497975531144f346a25bf43f}{FMemory::Memzero}}(\mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_a73914a88f1f9d3a5e3dbf1cb798ff6e0}{CurrentGPUVirtualAddress}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_a73914a88f1f9d3a5e3dbf1cb798ff6e0}{CurrentGPUVirtualAddress}}));}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ D3D12\_GPU\_VIRTUAL\_ADDRESS\ \mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache_a73914a88f1f9d3a5e3dbf1cb798ff6e0}{CurrentGPUVirtualAddress}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}][16];}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{//\ \ uint16\ DirtySlotMask[ST\_NumStandartTypes];}}
\DoxyCodeLine{00092\ \};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_d3_d12_state_cache}{FD3D12StateCache}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_d3_d12_device_child}{FD3D12DeviceChild}}}
\DoxyCodeLine{00097\ \{}
\DoxyCodeLine{00098\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00099\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_state_cache_ac90b8586835187309296b7478b9d98e8}{FD3D12StateCache}}(\mbox{\hyperlink{class_f_d3_d12_command_context}{FD3D12CommandContext}}\&\ CmdContext);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a8c81df9794e6149523d0602b849eb915}{SetConstantBuffer}}(\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775e}{EShaderType}}\ ShaderType,\ \mbox{\hyperlink{class_f_d3_d12_constant_buffer}{FD3D12ConstantBuffer}}\&\ Buffer,\ \textcolor{keywordtype}{bool}\ bDiscardConstants);}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a56f3f08d9904ce828c8f7bdd9c5dfa5e}{SetConstantsFromUniformBuffer}}(\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775e}{EShaderType}}\ ShaderType,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ SlotIndex,\ \mbox{\hyperlink{class_f_d3_d12_uniform_buffer}{FD3D12UniformBuffer}}*\ InBuffer);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a5d79873d4b6d6acfbc67e1106b6e9eba}{SetGrapicsPipelineState}}(\textcolor{keyword}{class}\ \mbox{\hyperlink{struct_f_d3_d12_graphics_pipeline_state}{FD3D12GraphicsPipelineState}}*\ GraphicsPipelineState);}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a3a2c9da2528fbe1bef5a567bd1ff944a}{SetNewShaderData}}(\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775e}{EShaderType}}\ InType,\ \textcolor{keyword}{const}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{struct_f_d3_d12_shader_data}{FD3D12ShaderData}}*\ InShaderData);}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a6038f875f3e2c9e2c43de1d5861a0af6}{SetStreamSource}}(\mbox{\hyperlink{class_f_d3_d12_resource_location}{FD3D12ResourceLocation}}*\ VertexBufferLocation,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ StreamIndex,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Offset,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Stride\ =\ 0);}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ac944694b740719b1a7be4f7123ff16ab}{SetIndexBuffer}}(\mbox{\hyperlink{class_f_d3_d12_resource_location}{FD3D12ResourceLocation}}*\ IndexBufferLocation,\ DXGI\_FORMAT\ Format,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ Offset);}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a063592e273cd58197de1e7a1c8b93309}{SetRenderTargets}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumRenderTargets,\ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_f_d3_d12_render_target_view}{FD3D12RenderTargetView}}**\ RTArray,\ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_f_d3_d12_depth_stencil_view}{FD3D12DepthStencilView}}*\ DSTarget);}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a33cb5e2d29d543a70a617258419928c4}{SetViewport}}(\textcolor{keywordtype}{float}\ MinX,\ \textcolor{keywordtype}{float}\ MinY,\ \textcolor{keywordtype}{float}\ MinZ,\ \textcolor{keywordtype}{float}\ MaxX,\ \textcolor{keywordtype}{float}\ MaxY,\ \textcolor{keywordtype}{float}\ MaxZ);}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_acdf0dc1386cb89f997be64ddb4cf0691}{ApplyState}}(\textcolor{keywordtype}{bool}\ bIsCompute\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ad72d6da178c97e44e020c91effeeacce}{ApplyConstants}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ StartStage,\ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ EndStage,\ \textcolor{keyword}{const}\ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_f_d3_d12_root_signature}{FD3D12RootSignature}}*\ RootSignature);}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a6723314b3eb8675ee1504b97e8ef6e24}{DirtyStateForNewCommandList}}();}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a85e5d40a9ffb18d16efa21536b0def34}{QueueBindlessSRV}}(\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775e}{EShaderType}}\ Type,\ \textcolor{keyword}{class}\ \mbox{\hyperlink{class_f_d3_d12_shader_resource_view}{FD3D12ShaderResourceView}}*\ SRV);}
\DoxyCodeLine{00121\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{00123\ \ \ \ \ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ TRefCountPtr<class\ FD3D12GraphicsPipelineState>\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ad8e3ea178cd7d9f07db9fc1cec5426cb}{CurrentPipelineStateObject}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_render_target_view}{FD3D12RenderTargetView}}*\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a6d20ce8969726ab333847aea8d98a924}{RenderTargetArray}}[8];}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a205401a9ec09ae2eb2ff9fc2d0eea005}{CurrentNumberRenderTargets}}\ =\ 0;}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_depth_stencil_view}{FD3D12DepthStencilView}}*\ \mbox{\hyperlink{class_f_d3_d12_state_cache_abd998ef83ca758b391be0ab2340def56}{CurrentDepthStencilTarget}};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a45055b8c35a73f84ec23026b465b8db5}{bNeedSetRootSignature}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_r_h_i_defines_8h_af5bd84af81d7da8da271f976754778e0}{EPrimitiveType}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ac179274088109493deda87f8a91eb911}{PrimitiveType}};}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ D3D\_PRIMITIVE\_TOPOLOGY\ \mbox{\hyperlink{class_f_d3_d12_state_cache_af3adcd83cc61ba3fb00f38cde6f0d72a}{PrimitiveTopology}};}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_vertex_buffer_cache}{FD3D12VertexBufferCache}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_af480dfca3926bbadf084d3e4c7a64d18}{VBCache}};}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_index_buffer_cache}{FD3D12IndexBufferCache}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a0a9d9793880ec2418704d0715fe68857}{IBCache}};}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a0ce4f8978d63eaa2fb9a97ebae39ce8b}{PrimitiveTypeFactor}};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ab08f97e9ee0daf5c10b603050f03e53b}{PrimitiveTypeOffset}};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a29572189703329cb79f129fcfad48d00}{CurrentNumberViewports}}\ =\ 0;}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ D3D12\_VIEWPORT\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a69240c1fbcf3468cc14c95da0e3f53bb}{CurrentViewport}}[16];}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a765df3820d70d9d559568b5518500d92}{Graphics}};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a31b71dbd63df07b93d3dd4f4479d6934}{Compute}};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ TRefCountPtr<ID3D12PipelineState>\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a641d8d8b5a93d793740c4470e09f375e}{CurrentPipelineState}};}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a586ebc6955e8b3e354268c418ee8fd6e}{bNeedSetPSO}};}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a8890e8f1d82897e920a36b757a3654ff}{CurrentShaderSamplerCount}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}]\ =\ \{\};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ad0f4e434817cfdf51c2d4ffba17d61ee}{CurrentShaderCBVCount}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}]\ =\ \{\};}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_aaf5f64360b94f53b2d1d61dd123d17e5}{CurrentShaderSRVCount}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}]\ =\ \{\};}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_aff5cac7b956ad4d5a980e7d1f401cbe7}{CurrentShaderUAVCount}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}]\ =\ \{\};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_f_d3_d12_constant_buffer_cache}{FD3D12ConstantBufferCache}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_aaba5025dcf89cf81626c63a910f24494}{CBVCache}}\ =\ \{\};}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ TArray<FD3D12ShaderResourceView*>\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a194d5b631af3f172610592eb2c2595ce}{QueuedBindlessSRVs}}[\mbox{\hyperlink{_r_h_i_defines_8h_a89725d5f41ceac2e574ddc988f06775ea4fae784dad21e1f04799045f97c79662}{ST\_NumStandartTypes}}];}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_a219f7d10ea827e7b5259b62335378f56}{Common}};}
\DoxyCodeLine{00162\ \ \ \ \ \}\ PipelineState;}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetPrimitiveTopology\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetVB\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetRTs\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetViewports\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetScissorRect\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordtype}{bool}\ bNeedSetBlendFactor\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ \mbox{\hyperlink{class_f_d3_d12_state_cache_ac3cc4c1e0ee85140b5624ade92c8d42b}{GetVertexCount}}(\mbox{\hyperlink{_platform_8h_a8c7a127091efbdfc5a16939041653e05}{uint32}}\ NumPrimitives)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00176\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NumPrimitives\ *\ PipelineState.Graphics.PrimitiveTypeFactor\ +\ PipelineState.Graphics.PrimitiveTypeOffset;}
\DoxyCodeLine{00178\ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{class_f_d3_d12_command_context}{FD3D12CommandContext}}\&\ Context;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \};}

\end{DoxyCode}
